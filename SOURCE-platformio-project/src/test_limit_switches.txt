#include <Arduino.h>
#include <rotator_pins.h>
#include <endstop.h>

#define DEFAULT_HOME_STATE HIGH  ///< Change to LOW according to Home sensor

endstop switch_el(SW2, DEFAULT_HOME_STATE);
endstop switch_az(SW1, DEFAULT_HOME_STATE);

void setup() {
    Serial.begin(9600);
    
    switch_el.init();
    switch_az.init();
    Serial.println("[setup] SW initialized");
}

void loop() {
    Serial.print("[loop] Testing... EL SW: ");
    Serial.println(switch_el.get_state() ? "✅" : "❌");
    Serial.print("[loop] Testing... AZ SW: ");
    Serial.println(switch_az.get_state() ? "✅" : "❌");
    delay(1000);
}